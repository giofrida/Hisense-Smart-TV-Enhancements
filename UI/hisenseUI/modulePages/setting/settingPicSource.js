var SourceData = {
    setting_pic_SourceItem: {
        Data: [
            {
                "setting_pic_Source_img": {Data: "none"},
                "setting_pic_Source_span": {Data: "none"}
            }

        ],
        "SelectedIndex": 0,
        "DataSelectedIndex": 0

    },
    operateData: {
        "SelectedIndex": 0,
        "DataSelectedIndex": 0,
        "id": 0,
        setting_pic_SourceImgData: {},
        setting_pic_SourceImgDataList: {
            "EM": {
                "0": {
                    "disable": {unlock: "img/source/TVUnIn.png", lock: "img/source/tvUnInlock.png"},
                    "selected": {unlock: "img/source/TVInSelect.png", lock: "img/source/TVInSelectlock.png"}

                },
                "3": {
                    "disable": {unlock: "img/source/hdmi1UnIn.png", lock: "img/source/hdmi1UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi1InSelect.png", lock: "img/source/hdmi1InSelectlock.png"}

                },
                "4": {
                    "disable": {unlock: "img/source/hdmi2UnIn.png", lock: "img/source/hdmi2UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi2InSelect.png", lock: "img/source/hdmi2InSelectlock.png"}

                },
                "5": {
                    "disable": {unlock: "img/source/hdmi3UnIn.png", lock: "img/source/hdmi3UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi3InSelect.png", lock: "img/source/hdmi3InSelectlock.png"}

                },
                "6": {
                    "disable": {unlock: "img/source/hdmi4UnIn.png", lock: "img/source/hdmi4UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi4InSelect.png", lock: "img/source/hdmi4InSelectlock.png"}

                },
                "1": {
                    "disable": {unlock: "img/source/AVUnIn.png", lock: "img/source/AVUnInlock.png"},
                    "selected": {unlock: "img/source/AVInSelect.png", lock: "img/source/AVInSelectlock.png"}

                },
                "2": {
                    "disable": {unlock: "img/source/compmentUnIn.png", lock: "img/source/compmentUnInlock.png"},
                    "selected": {unlock: "img/source/compmentInSelect.png", lock: "img/source/compmentInSelectlock.png"}

                }
            },
            EM5655:{
                "0": {
                    "disable": {unlock: "img/source/TVUnIn.png", lock: "img/source/tvUnInlock.png"},
                    "selected": {unlock: "img/source/TVInSelect.png", lock: "img/source/TVInSelectlock.png"}

                },
                "3": {
                    "disable": {unlock: "img/source/hdmi1UnIn.png", lock: "img/source/hdmi1UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi1InSelect.png", lock: "img/source/hdmi1InSelectlock.png"}

                },
                "4": {
                    "disable": {unlock: "img/source/hdmi2UnIn.png", lock: "img/source/hdmi2UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi2InSelect.png", lock: "img/source/hdmi2InSelectlock.png"}

                },
                "1": {
                    "disable": {unlock: "img/source/AVUnIn.png", lock: "img/source/AVUnInlock.png"},
                    "selected": {unlock: "img/source/AVInSelect.png", lock: "img/source/AVInSelectlock.png"}

                },
                "2": {
                    "disable": {unlock: "img/source/compmentUnIn.png", lock: "img/source/compmentUnInlock.png"},
                    "selected": {unlock: "img/source/compmentInSelect.png", lock: "img/source/compmentInSelectlock.png"}

                }
            },
            "EU": {
                "0": {
                    "disable": {unlock: "img/source/TVUnIn.png", lock: "img/source/tvUnInlock.png"},
                    "selected": {unlock: "img/source/TVInSelect.png", lock: "img/source/TVInSelectlock.png"}

                },
                "4": {
                    "disable": {unlock: "img/source/hdmi1UnIn.png", lock: "img/source/hdmi1UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi1InSelect.png", lock: "img/source/hdmi1InSelectlock.png"}

                },
                "5": {
                    "disable": {unlock: "img/source/hdmi2UnIn.png", lock: "img/source/hdmi2UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi2InSelect.png", lock: "img/source/hdmi2InSelectlock.png"}

                },
                "6": {
                    "disable": {unlock: "img/source/hdmi3UnIn.png", lock: "img/source/hdmi3UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi3InSelect.png", lock: "img/source/hdmi3InSelectlock.png"}

                },
                "7": {
                    "disable": {unlock: "img/source/hdmi4UnIn.png", lock: "img/source/hdmi4UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi4InSelect.png", lock: "img/source/hdmi4InSelectlock.png"}

                },
                "3": {
                    "disable": {unlock: "img/source/scartUnIn.png", lock: "img/source/scartUnInlock.png"},
                    "selected": {unlock: "img/source/scartInSelect.png", lock: "img/source/scartInSelectlock.png"}

                },
                "1": {
                    "disable": {unlock: "img/source/AVUnIn.png", lock: "img/source/AVUnInlock.png"},
                    "selected": {unlock: "img/source/AVInSelect.png", lock: "img/source/AVInSelectlock.png"}

                },
                "2": {
                    "disable": {unlock: "img/source/compmentUnIn.png", lock: "img/source/compmentUnInlock.png"},
                    "selected": {unlock: "img/source/compmentInSelect.png", lock: "img/source/compmentInSelectlock.png"}

                }
            },
            "SA": {
                "0": {
                    "disable": {unlock: "img/source/TVUnIn.png", lock: "img/source/tvUnInlock.png"},
                    "selected": {unlock: "img/source/TVInSelect.png", lock: "img/source/TVInSelectlock.png"}

                },
                "3": {
                    "disable": {unlock: "img/source/hdmi1UnIn.png", lock: "img/source/hdmi1UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi1InSelect.png", lock: "img/source/hdmi1InSelectlock.png"}

                },
                "4": {
                    "disable": {unlock: "img/source/hdmi2UnIn.png", lock: "img/source/hdmi2UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi2InSelect.png", lock: "img/source/hdmi2InSelectlock.png"}

                },
                "5": {
                    "disable": {unlock: "img/source/hdmi3UnIn.png", lock: "img/source/hdmi3UnInlock.png"},
                    "selected": {unlock: "img/source/hdmi3InSelect.png", lock: "img/source/hdmi3InSelectlock.png"}

                },

                "1": {
                    "disable": {unlock: "img/source/AVUnIn.png", lock: "img/source/AVUnInlock.png"},
                    "selected": {unlock: "img/source/AVInSelect.png", lock: "img/source/AVInSelectlock.png"}

                },
                "2": {
                    "disable": {unlock: "img/source/compmentUnIn.png", lock: "img/source/compmentUnInlock.png"},
                    "selected": {unlock: "img/source/compmentInSelect.png", lock: "img/source/compmentInSelectlock.png"}

                }
            }


        },
        InSource: "",
        newSource: "",
        CurrentUseSource: "",



        source: []

    },
    "langData": {},
    "rewrite": SourceRewrite
};
var inputInterval;
function inputOnopen(){
    if(typeof inputInterval != UNDEFINED_DEFSTR){
        clearInterval(inputInterval);
    }
    inputInterval=setInterval(inputTimer,800);
    var dir_0 = hiWebOsFrame.getHTMLDir() == HTMLDIR.LTR ? 'left' : 'right';

    $("#setting_pic_SourceItem li").css('float', dir_0);
}
function inputOnclose(){
    clearInterval(inputInterval);

}
function inputOnDestroy() {
    clearInterval(inputInterval);
    hiWebOsFrame.setting_source_page = null;
}
function inputTimer() {
    var SelectedIndex = SourceData.setting_pic_SourceItem.SelectedIndex;
    var id = SourceData.operateData.source[SelectedIndex].id;
    debugG("---------->hiWebOsFrame.getTimer()" + hiWebOsFrame.getTimer());
    if (hiWebOsFrame.getTimer() > 3) {
        SourceData.operateData.id = SourceData.operateData.source[SelectedIndex].id;
        var curSourceId = SourceData.operateData.CurrentUseSource;
        if(curSourceId == SourceData.operateData.id){
            hiWebOsFrame.setting_source_page.close();
            hiWebOsFrame.setting_source_page.destroy();
            clearInterval(inputInterval);
            openLiveTVModule([Msg.INFO, 0]);
            return;
        }
        debugPrint("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!" + isTimeShiftStatus());
        if(isMainArchiveRecording() || isTimeShiftStatus()) {
            hiWebOsFrame.setting_source_page.close();
            hiWebOsFrame.setting_source_page.destroy();
            clearInterval(inputInterval);
            PVROrTShiftDialog(hiWebOsFrame[LiveTVModule.MAIN],
                "Sure to exit from PVR or T.Shift?", sourceStopPVROrTshift, sourceCanCancelPVRTshift);
            return;
        }
        model.source.InputSet(id);
        ReadInputRecent(id);
        //setTimeout(closeSource, 800);
        closeSource(1);

    }
}
function getPicSourceData(page) {
    page.CaE = [
        {
            "id": "setting_pic_SourceContainer",
            "description": "当前的比例容器",
            "CaEType": "div"
        },
        {
            "id": "setting_pic_SourceItem",
            "description": "当前的比例",
            "CaEType": "NavigationBar",
            "firstFocusId": "",
            "classes": {
                "normal": "setting_pic_source_li_normal", "focus": "setting_pic_source_li_focus", "disable": "",
                "selected": "setting_pic_source_li_focus", "dataSelected": "setting_pic_source_li_dataselect"
            },
            "handler": {
                "aftEnterHandler": "SourceOkHandler", "aftRightHandler": "", "aftLeftHandler": ""
            },
            "nav": {"leftTo": "", "downTo": "", "rightTo": ""},
            "oriCaE": [
                {
                    "id": "setting_pic_Source_img",
                    "description": "代表zoom模式的img",
                    "CaEType": "img"

                },
                {
                    "id": "setting_pic_Source_span",
                    "description": "代表zoom模式的img",
                    "CaEType": "span",
                    "enableHtml": true
                }
            ],
            "NavigationBarConfig": {
                "NavigationBarDataItem": [ "setting_pic_Source_img", "setting_pic_Source_span"],
                "SelectedIndex": 0,
                "PageSize": 7

            }

        }

    ];

    creatInputData();
    return SourceData;
}


/**
 model.source.getInputName():
 id:
 name:
 signal:
 lock:
 rename:
 [
 "0", "TV", "0", "0", "",
 "1", "AV", "1", "0", "",
 "2", "COMPONENT", "1", "0", "",
 "3", "HDMI 1", "1", "0", "",
 "4", "HDMI 2", "1", "0", "",
 "5", "HDMI 3", "1", "0", "",
 "6", "HDMI 4", "1", "0", ""
 ];
 优先显示原则:
 TV AV HDMI1 HDMI2 HDMI3 HDMI4 Scart AV COMPONENT
 与其他页面交互:

 * @returns {Array}
 */

function handlerSourceItemToJson() {
    var sourceArr = [];
    if (!!tv) {
        var sourceItem = model.source.getInputName();
        debugG("model.source.getInputName():" + JSON.stringify(sourceItem));
        SourceData.operateData.CurrentUseSource = model.source.getCurrentSource();
        debugG("model.source.getCurrentSource():" + SourceData.operateData.CurrentUseSource);
        var item = {id: "0", name: "TV", signal: "1", lock: "0", rename: "", hotelLock: ""};
        for (var i = 0; i < sourceItem.length / 6; i++) {
            var newitem = $.extend(true, {}, item);
            newitem.id = sourceItem[i * 6 + 0];
            newitem.name = sourceItem[i * 6 + 1];
            newitem.signal = sourceItem[i * 6 + 2];
            newitem.lock = sourceItem[i * 6 + 3];
            newitem.rename = sourceItem[i * 6 + 4];
            newitem.hotelLock = sourceItem[i * 6 + 5];
            sourceArr.push(newitem);
        }
    } else {
        sourceArr = [
            {id: "0", name: "TV", signal: "1", lock: "0", hotelLock: "0"},
            {id: "3", name: "HDMI1", signal: "1", lock: "0", hotelLock: "0"},
            {id: "4", name: "HDMI2", signal: "1", lock: "0", hotelLock: "0"},
            {id: "5", name: "HDMI3", signal: "1", lock: "0", hotelLock: "0"},
            {id: "6", name: "HDMI4", signal: "1", lock: "0", hotelLock: "0"},
            {id: "1", name: "AV", signal: "1", lock: "0", hotelLock: "1"},
            {id: "2", name: "Component", signal: "1", lock: "1", hotelLock: "0"}
        ]
    }
    return sourceArr;
}
function PrepareInputData() {
    var sourceArr = handlerSourceItemToJson(),
        newSourceArr = [],
        source = [];
    var signalOrderMap = [];
    var nosignalOrderMap = [];
    var defalutOrderMap = [0, 3, 4, 5, 6, 1, 2];
    if (8 == sourceArr.length) {
        defalutOrderMap = [0, 4, 5, 6, 7, 3, 1, 2];
        SourceData.operateData.setting_pic_SourceImgData = SourceData.operateData.setting_pic_SourceImgDataList.EU;
    }
    else if(6 == sourceArr.length){
        defalutOrderMap = [0, 3, 4, 5, 1, 2];
        SourceData.operateData.setting_pic_SourceImgData = SourceData.operateData.setting_pic_SourceImgDataList.SA;
    }
    else if(5 == sourceArr.length){
        defalutOrderMap = [0, 3, 4,1, 2];
        SourceData.operateData.setting_pic_SourceImgData = SourceData.operateData.setting_pic_SourceImgDataList.EM5655;
    }
    else {
        SourceData.operateData.setting_pic_SourceImgData = SourceData.operateData.setting_pic_SourceImgDataList.EM;
    }
//    debugPrint('start:' + JSON.stringify(sourceArr));
    $.each(defalutOrderMap, function (k, v) {
        newSourceArr.push(picSourceGetJsonObjById(sourceArr, v));
    })
    $.each(newSourceArr, function (k, v) {
        if (v.id == 0) {
            signalOrderMap.push(v.id);
        } else if (v.signal == 0) {
            signalOrderMap.push(v.id);
        } else {
            nosignalOrderMap.push(v.id);
        }
    })
    signalOrderMap = signalOrderMap.concat(nosignalOrderMap);
    debugPrint('Source list after ordered' + JSON.stringify(signalOrderMap));

    var  TVNosignal = tv?(!livetvchlist.hasChannels()):true;

    $.each(signalOrderMap,function(k,v){
        var item = picSourceGetJsonObjById(newSourceArr,v);
        if(item.signal == 0){
            item.img="selected";
            item.color = '#f0f0f0';
             if(item.id==0 && TVNosignal){
                item.img="disable";
                item.color = 'rgba(255, 255, 255, .1)';
            }
        }
        else{
            item.img="disable";
            item.color = 'rgba(255, 255, 255, .1)';
        }
        if (!!item.rename) {
            item.name = item.rename;

        }
        if((item.id == 2) && hiWebOsFrame.getCurrentArea()=="SA"){
            item.name = getCurrentContentLanguage(item.name);
        }
        source.push(item);
    })
    SourceData.operateData.source = source;
    debugPrint('SourceData.operateData.source:' + JSON.stringify(source));

}
function creatInputData() {
    try {
        PrepareInputData();
        SourceData.setting_pic_SourceItem.Data = [];
        $.each(SourceData.operateData.source, function (k, v) {
            //signal: 0:有信号  1：无信号

            if (parseInt(v.id) == SourceData.operateData.CurrentUseSource) {
                debugG("v.id==opeData.CurrentUseSource");
                SourceData.operateData.SelectedIndex = k;
                debugG(' opeData.SelectedIndex:' + SourceData.operateData.SelectedIndex);
                SourceData.operateData.DataSelectedIndex = k;
            }
            var LockSwitch = livetvmain.getLockSwitch();
            var lockTime = tv ? model.source.getCurrentTimeInLock() : 0;

            if (v.lock == 1 && LockSwitch != 0 && lockTime == 1) {
                SourceData.setting_pic_SourceItem.Data.push({
                    "setting_pic_Source_img": {
                        Data: SourceData.operateData.setting_pic_SourceImgData[v.id][v.img]['lock']
                    },
                    "setting_pic_Source_span": {
                        Data: '<span style="color: ' + v.color + '">' + v.name + '</span>'
                    }
                })
            } else {
                SourceData.setting_pic_SourceItem.Data.push({
                    "setting_pic_Source_img": {
                        Data: SourceData.operateData.setting_pic_SourceImgData[v.id][v.img]['unlock']
                    },
                    "setting_pic_Source_span": {
                        Data: '<span style="color: ' + v.color + '">' + v.name + '</span>'
                    }
                });
            }

        });
        debugPrint('sourceData:' + JSON.stringify(SourceData.setting_pic_SourceItem.Data));
    } catch (ex) {
        debugE(ex.message);
    }
}
function picSourceGetJsonObjById(sourceArr, id) {
    try {
        var sourceObj = {};
        $.each(sourceArr, function (index, item) {
            if (item.id == id) {
                sourceObj = item;
                return false;
            }
        })
        return sourceObj;
    } catch (ex) {
        debugE(ex.message);
    }

}

function SourceRewrite(pageData) {
    try {
        var opeData = pageData.operateData;

        debugG('------->opeData.SelectedIndex:' + opeData.SelectedIndex);
        pageData.setting_pic_SourceItem.SelectedIndex = opeData.SelectedIndex;
        pageData.setting_pic_SourceItem.DataSelectedIndex = opeData.DataSelectedIndex;
        debugG("------->pageData.setting_pic_SourceItem.SelectedIndex:" + opeData.DataSelectedIndex);
        SourceData.setting_pic_SourceItem.disableItem = [];

        var hotelmode = tv ? model.hotel.getHotelMode() : 0;
        if (!!hotelmode) {
            $.each(SourceData.operateData.source, function (k, v) {
                if (v.hotelLock == 1) {
                    SourceData.setting_pic_SourceItem.disableItem.push(k);
                }
            });
        }

        var dir_0 = hiWebOsFrame.getHTMLDir() == HTMLDIR.LTR ? 'left' : 'right';
        $("#setting_pic_SourceItem li").css('float', dir_0);
    } catch (ex) {
        debugE(ex.message);
    }
}

function startSource() {
    hiWebOsFrame.createPage('setting_pic_Source_page', null, null, null, function (setting_source_page) {
        setting_source_page.open();
        setting_source_page.hiFocus();
        hiWebOsFrame.setting_source_page = setting_source_page;
    });
}

function closeSource(flag) {
    if (hiWebOsFrame.isCurrentModule("input")) {
        hiWebOsFrame.setting_source_page.destroy();
        //hiWebOsFrame.blankPage.open();
        //hiWebOsFrame.blankPage.hiFocus();
        if(1 == flag) {
            openLiveTVModule([Msg.WAIT_SOURCE_CHANGE, 1]);
        }
        else{
            openLiveTVModule();
        }
        clearInterval(inputInterval);
    }
    else{
        hiWebOsFrame.setting_source_page.close()
        hiWebOsFrame.setting_source_page.destroy();
        clearInterval(inputInterval);
    }
}
function SourceOkHandler(operateData, data) {
    try {
        var page = this.page;
        operateData.SelectedIndex = this.SelectedIndex;
        operateData.DataSelectedIndex = this.SelectedIndex;
        page.rewriteDataOnly();
        operateData.id = operateData.source[this.SelectedIndex].id;
        var curSourceId = operateData.CurrentUseSource;
        if(curSourceId == operateData.id){
            hiWebOsFrame.setting_source_page.close();
            hiWebOsFrame.setting_source_page.destroy();
            clearInterval(inputInterval);
            openLiveTVModule([Msg.INFO, 0]);
            return;
        }
        debugPrint("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!" + isTimeShiftStatus());
        if(isMainArchiveRecording() || isTimeShiftStatus()) {
            hiWebOsFrame.setting_source_page.close();
            hiWebOsFrame.setting_source_page.destroy();
            clearInterval(inputInterval);
            PVROrTShiftDialog(hiWebOsFrame[LiveTVModule.MAIN],
                "Sure to exit from PVR or T.Shift?", sourceStopPVROrTshift, sourceCanCancelPVRTshift);
            return;
        }
        model.source.InputSet(operateData.id);
        ReadInputRecent(operateData.id);
        //setTimeout(closeSource, 800);
        closeSource(1);


    } catch (ex) {
        debugE(ex.message);
    }
}
function sourceStopPVROrTshift() {
    if(!!hiWebOsFrame["dialog_common"])
    {
        hiWebOsFrame["dialog_common"].destroy();
    }
    hiWebOsFrame.startLoading(5, "stoppvr");
    try {
        if(isMainArchiveRecording()){
            setAfterStopPvrWantDo(sourceStopPvrCallBack);
            setTimeout(function (){
                DBG_ALWAYS("model.pvr.StopRecord()");
                model.pvr.StopRecord();
            },100);
        }
        if(isTimeShiftStatus()){
            setAfterStopTShiftWantDo(sourceStopTshiftCallBack);
            setTimeout(function () {
                model.timeshift.Stop();
            },100);

        }
    }
    catch(ex) {
        debugPrint("error: " + ex.message);
    }
}
function sourceStopPvrCallBack(){
    hiWebOsFrame.endLoading("stoppvr");
    g_AfterStopPvrWantDo = null;
    model.source.InputSet( SourceData.operateData.id);
    ReadInputRecent( SourceData.operateData.id);
    setTimeout(openLiveTVModule, 800);
}

function sourceStopTshiftCallBack(){
    hiWebOsFrame.endLoading("stoppvr");
    g_AfterStopTShiftWantDo = null;
    model.source.InputSet( SourceData.operateData.id);
    ReadInputRecent( SourceData.operateData.id);
    setTimeout(openLiveTVModule, 800);
}

function sourceCanCancelPVRTshift() {
    if(!!hiWebOsFrame["dialog_common"])
    {
        hiWebOsFrame["dialog_common"].destroy();
    }
    hiWebOsFrame.endLoading("stoppvr");
    openLiveTVModule();
}

function ReadInputRecent(id) {
    try {
        var ret = readFileFromNative("hisenseUI/recentinput.txt", 1);
        debugPrint("read recent fie ret  " + JSON.stringify(ret));
        var rencentInput = {};
        rencentInput.source = [];
        if (null != ret) {
            rencentInput = ret;
            if (rencentInput.source.length >= 7) {
                rencentInput.source.splice(6, rencentInput.source.length - 6);
            }
            if (rencentInput.source.indexOf(id) > -1) {
                rencentInput.source.splice(rencentInput.source.indexOf(id), 1);
            }
        }
        rencentInput.source.splice(0, 0, id);
        debugPrint('recentInput:' + JSON.stringify(rencentInput));
        writeFileToNative("hisenseUI/recentinput.txt", JSON.stringify(rencentInput), 1);
    } catch (ex) {
        debugE(ex.message);
    }

}

/**
 * 实现 在NavgationBar最左边时，再次点击向左键，焦点跳转到最后一个
 */
function settingPicSourceLeftHandler() {
    clearInterval(inputInterval);
    if (SourceData.setting_pic_SourceItem.SelectedIndex == 0) {
        var selIdx = SourceData.setting_pic_SourceItem.Data.length - 1;

        SourceData.setting_pic_SourceItem.disableItem.sort()

        for (var i = SourceData.setting_pic_SourceItem.Data.length - 1; i >= 0; i--) {
            if (-1 == $.inArray(i, SourceData.setting_pic_SourceItem.disableItem)) {
                selIdx = i;
                break;
            }
        }

        SourceData.operateData.SelectedIndex = selIdx;
        this.rewrite();
        this.hiFocus();
        var dir_0 = hiWebOsFrame.getHTMLDir() == HTMLDIR.LTR ? 'left' : 'right';
        $("#setting_pic_SourceItem li").css('float', dir_0);
    }
	inputInterval=setInterval(inputTimer,800);

}
/**
 * 实现 在NavgationBar最右边时，再次点击向右键，焦点跳转到第一个
 */
function settingPicSourceRightHandler() {
    clearInterval(inputInterval);
    if (SourceData.setting_pic_SourceItem.SelectedIndex == SourceData.setting_pic_SourceItem.Data.length - 1) {
        var selIdx = 0;

        SourceData.setting_pic_SourceItem.disableItem.sort()

        for (var i = 0; i < SourceData.setting_pic_SourceItem.Data.length; i++) {
            if (-1 == $.inArray(i, SourceData.setting_pic_SourceItem.disableItem)) {
                selIdx = i;
                break;
            }
        }

        SourceData.operateData.SelectedIndex = selIdx;
        this.rewrite();
        this.hiFocus();
        var dir_0 = hiWebOsFrame.getHTMLDir() == HTMLDIR.LTR ? 'left' : 'right';
        $("#setting_pic_SourceItem li").css('float', dir_0);
    }
	inputInterval=setInterval(inputTimer,800);
}